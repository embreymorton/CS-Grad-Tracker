<!-- views/student/CS09.ejs -->
<!DOCTYPE html>

<html>
	<head>
		<title>CS09 REPORT OF PRELIMINARY RESEARCH PRESENTATION</title>
		<%- include("../partials/head.ejs") %>
	</head>
	
	<body>
		<div class="container-fluid h-100">
			<div class="row h-100">
				<div class="col-lg-2 sidebar text-center">

					<%- include("../partials/admin-sidebar.ejs") %>

					<%- include("./search-student.ejs") %>

				</div>
				<div align ="center" class="col-lg-10 panelbg text-center">

					<% if(uploadSuccess == true) { %>
					<div class="alert alert-success alert-dismissible fade show" role="alert">
						<button type="button" class="close" data-dismiss="alert" aria-label="Close">
							<span aria-hidden="true">&times;</span>
						</button>
						<strong>Submit success!</strong>
					</div>
					<% } %>

					<%- include("./studentBarPartial.ejs") %>

					<h4><%=student.lastName%>, <%=student.firstName%></h4>

					<h3>REPORT OF PRELIMINARY RESEARCH PRESENTATION</h3>
					<h3>CS-09</h3>

					<div align="left">

						<hr></hr>

						<form action="/student/forms/update/<%=student._id%>/CS09" method="post">

							<input type="hidden" class="form-control" name="student" value=<%=student._id%> />

							<div class="row">
								<div class="col-md-6">
									<div>Name</div>
									<input type="text" class="form-control" name="name" value="<%=form.name%>" required/>
								</div>
								<div class="col-md-6">
									<div>PID</div>
									<input type="number" class="form-control" name="pid" value=<%=student.pid%> required />
								</div>
							</div>

							<strong>Instructions:</strong>
							<div>This  form  has  three  parts.  Part  1  must  be  completed  by the student and submitted to the Student Services Manager two weeks prior to their exam. The student must also email a scanned copy of the form to his/her PRP committee. Parts 2 and 3 should be completed by the committee on the exam day.</div>

							<hr/>

							<strong>Part 1.    Information about the PRP research</strong>
							<div class="row">
								<div class="col-md-2">
									Title of PRP topic:
								</div>
								<div class="col-md-6">
									<input type="text" class="form-control" name="prpTitle" value="<%=form.prpTitle%>" required/>
								</div>
							</div>

							<div class="verticalSpace" />

							<div class="row">
								<div class="col-md-2">
									Research Advisor:
								</div>
								<div class="col-md-6">
									<input type="text" class="form-control" name="researchAdvisor" value="<%=form.researchAdvisor%>" required/>
								</div>
							</div>

							<div class="verticalSpace" />

							<div class="row">
								<div class="col-md-6">
									<div>Has this PRP topic already been submitted to a peer-reviewed conference or journal? </div>
								</div>
								<div class="col-md-2">
									<select name="peerReviewed" class="form-control" id="inputStatus">
										<option value=<%=form.peerReviewed%>><%=form.peerReviewed%></option>
										<option value="Yes">Yes</option>
										<option value="No">No</option>
									</select>
								</div>
							</div>

							<div class="verticalSpace" />

							<div class="row">
								<div class="col-md-2">
									If yes, give the full author list:
								</div>
								<div class="col-md-6">
									<input type="text" class="form-control" name="authors" value="<%=form.authors%>" required/>
								</div>
							</div>

							<div class="verticalSpace" />

							<div class="row">
								<div class="col-md-2">
									If yes, was the paper accepted:
								</div>
								<div class="col-md-2">
									<select name="paperAccepted" class="form-control" id="inputStatus">
										<option value=<%=form.paperAccepted%>><%=form.paperAccepted%></option>
										<option value="Yes">Yes</option>
										<option value="No">No</option>
									</select>
								</div>
								<div class="col-md-2">
									Notification Date:
								</div>
								<div class="col-md-2">
									<input type="text" class="form-control" name="paperNotifyDate" value="<%=form.paperNotifyDate%>" required/>
								</div>
							</div>

							<div class="verticalSpace" />


							<div class="row">
								<div class="col-md-6">
									<div>Are reviews currently available to your committee,  or will they become available prior to the presentation?</div>
								</div>
								<div class="col-md-2">
									<select name="reviewsAvailable" class="form-control" id="inputStatus">
										<option value=<%=form.reviewsAvailable%>><%=form.reviewsAvailable%></option>
										<option value="Yes">Yes</option>
										<option value="No">No</option>
									</select>
								</div>
							</div>

							<div class="verticalSpace" />

							<div>What part of the research were you responsible for?</div>
							<textarea class="form-control" name="researchResponsible"><%=form.researchResponsible%>
							</textarea>

							<div class="verticalSpace" />

							<div class="row">
								<div class="col-md-6">
									<div>Will you present the entire project, or just your contribution?</div>
								</div>
								<div class="col-md-2">
									<input type="text" class="form-control" name="present" value="<%=form.present%>" required/>
								</div>
							</div>

							<hr/>

							<strong>Advisor Section:</strong>
							<div>I have reviewed the PRP report and will review the student's PRP presentation.</div>



							<div class="row">
								<div class="col-md-4">
									Research Advisor Signature
									<input type="text" class="form-control" name="advisorSignature" value="<%=form.advisorSignature%>" required />
								</div>
								<div class="col-md-4">
									Date
									<input type="text" class="form-control" name="advisorDateSigned" value="<%=form.advisorDateSigned%>" required />
								</div>
							</div>

							<hr/>

							<strong>Part 2. Each of us has read ( and reviewed in writing) the PRP Report.</strong>

							<div class="verticalSpace"/>

							<strong>Committee Members</strong>
							<div class="row">
								<div class="col-md-4">
									<div>Signature</div>
									<input type="text" class="form-control" name="committeeSignature1" value="<%=form.committeeSignature1%>" required />
									<input type="text" class="form-control" name="committeeSignature2" value="<%=form.committeeSignature2%>" required />
									<input type="text" class="form-control" name="committeeSignature3" value="<%=form.committeeSignature3%>" required />
								</div>
									
								<div class="col-md-2">
									<div>Date</div>
									<input type="text" class="form-control" name="committeeDateSigned1" value="<%=form.committeeDateSigned1%>" required />
									<input type="text" class="form-control" name="committeeDateSigned2" value="<%=form.committeeDateSigned2%>" required />
									<input type="text" class="form-control" name="committeeDateSigned3" value="<%=form.committeeDateSigned3%>" required />
								</div>
							</div>

							<hr/>

							<strong>Part 3. PRP Committee Joint Report</strong>
							<div class="row">
								<div class="col-md-4">
									Preliminary research presentation date:
								</div>
								<div class="col-md-2">
									<input type="text" class="form-control" name="presentationDate" value="<%=form.presentationDate%>" required />
								</div>
							</div>

							<div class="verticalSpace"/>

							<div class="row" align ="center">
								<div class="col-md-3">
									Integration of concepts
								</div>
								<div class="col-md-1">
									<input type="number" step=".5" min="-3" max="3" class="form-control numberValue" name="conceptIntegration" value="<%=form.conceptIntegration%>" required />
								</div>
							</div>

							<div class="row" align ="center">
								<div class="col-md-3">
									Creativity
								</div>
								<div class="col-md-1">
									<input type="number" step=".5" min="-3" max="3" class="form-control numberValue" name="creativity" value="<%=form.creativity%>" required />
								</div>
							</div>

							<div class="row" align ="center">
								<div class="col-md-3">
									Clarity
								</div>
								<div class="col-md-1">
									<input type="number" step=".5" min="-3" max="3" class="form-control numberValue" name="clarity" value="<%=form.clarity%>" required />
								</div>
							</div>

							<div class="row" align ="center">
								<div class="col-md-3">
									Abstraction and formality
								</div>
								<div class="col-md-1">
									<input type="number" step=".5" min="-3" max="3" class="form-control numberValue" name="abstractionFormality" value="<%=form.abstractionFormality%>" required />
								</div>
							</div>

							<div class="row" align ="center">
								<div class="col-md-3">
									Organiztion
								</div>
								<div class="col-md-1">
									<input type="number" step=".5" min="-3" max="3" class="form-control numberValue" name="organization" value="<%=form.organization%>" required />
								</div>
							</div>

							<div class="row" align ="center">
								<div class="col-md-3">
									Writing
								</div>
								<div class="col-md-1">
									<input type="number" step=".5" min="-3" max="3" class="form-control numberValue" name="writing" value="<%=form.writing%>" required />
								</div>
							</div>

							<div class="row" align ="center">
								<div class="col-md-3">
									Presentation
								</div>
								<div class="col-md-1">
									<input type="number" step=".5" min="-3" max="3" class="form-control numberValue" name="presentation" value="<%=form.presentation%>" required />
								</div>
							</div>

							<div class="row" align ="center">
								<div class="col-md-3">
									Answering questions
								</div>
								<div class="col-md-1">
									<input type="number" step=".5" min="-3" max="3" class="form-control numberValue" name="answeringQuestion" value="<%=form.answeringQuestion%>" required />
								</div>
							</div>

							<div class="verticalSpace"/>

							<div class="row">
								<div class="col-md-1">
									<div>Overall Score:</div>
									
								</div>
								<div class="col-md-3">
									<button type="button" class="btn btn-secondary"  onclick="average()">Calculate average</button>
								</div>
								<div class="col-md-2">
									<input type="hidden" class="form-control" name="overallScore" value="<%=form.overallScore%>" id="overallScore" required />
									<div id="displayScore"><%=form.overallScore%>
									</div>
								</div>
							</div>

							<div class="verticalSpace"/>
							
							<button type="submit" class="btn btn-primary">Submit</button>
						</form>
					</div>
				</div>
			</div>
		</div>
		<%- include("../partials/bootstrapScripts.ejs") %>
	</body>
	<script type="text/javascript">
		function average(){
			var arr = document.getElementsByClassName("numberValue");
			var total = 0;
			var average = 0;

			for(var i = 0; i < arr.length; i++){
				if(parseInt(arr[i].value)){
					total+= parseInt(arr[i].value);
				}
			}

			average = total / arr.length;
			document.getElementById("overallScore").value = average;
			document.getElementById("displayScore").innerHTML = average;
		}
	</script>
</html>